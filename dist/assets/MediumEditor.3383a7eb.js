import{N as $,d as Y,r as ie,o as ne,L as oe,b as J,i as Z,O as re,u as se,a as G,g as R,f as W,w as U,k as z,t as ae,h as le,P as ue}from"./index.e9346418.js";var ee={exports:{}};(function(K){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||function(s){if("Element"in s){var E="classList",n="prototype",e=s.Element[n],r=Object,l=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},u=Array[n].indexOf||function(p){for(var g=0,b=this.length;g<b;g++)if(g in this&&this[g]===p)return g;return-1},t=function(p,g){this.name=p,this.code=DOMException[p],this.message=g},i=function(p,g){if(g==="")throw new t("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(g))throw new t("INVALID_CHARACTER_ERR","String contains an invalid character");return u.call(p,g)},o=function(p){for(var g=l.call(p.getAttribute("class")||""),b=g?g.split(/\s+/):[],y=0,w=b.length;y<w;y++)this.push(b[y]);this._updateClassName=function(){p.setAttribute("class",this.toString())}},d=o[n]=[],c=function(){return new o(this)};if(t[n]=Error[n],d.item=function(p){return this[p]||null},d.contains=function(p){return p+="",i(this,p)!==-1},d.add=function(){var p=arguments,g=0,b=p.length,y,w=!1;do y=p[g]+"",i(this,y)===-1&&(this.push(y),w=!0);while(++g<b);w&&this._updateClassName()},d.remove=function(){var p=arguments,g=0,b=p.length,y,w=!1,T;do for(y=p[g]+"",T=i(this,y);T!==-1;)this.splice(T,1),w=!0,T=i(this,y);while(++g<b);w&&this._updateClassName()},d.toggle=function(p,g){p+="";var b=this.contains(p),y=b?g!==!0&&"remove":g!==!1&&"add";return y&&this[y](p),g===!0||g===!1?g:!b},d.toString=function(){return this.join(" ")},r.defineProperty){var h={get:c,enumerable:!0,configurable:!0};try{r.defineProperty(e,E,h)}catch(p){p.number===-2146823252&&(h.enumerable=!1,r.defineProperty(e,E,h))}}else r[n].__defineGetter__&&e.__defineGetter__(E,c)}}(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(s){if(s.URL=s.URL||s.webkitURL,s.Blob&&s.URL)try{new Blob;return}catch{}var E=s.BlobBuilder||s.WebKitBlobBuilder||s.MozBlobBuilder||function(e){var r=function(C){return Object.prototype.toString.call(C).match(/^\[object\s(.*)\]$/)[1]},l=function(){this.data=[]},u=function(A,S,D){this.data=A,this.size=A.length,this.type=S,this.encoding=D},t=l.prototype,i=u.prototype,o=e.FileReaderSync,d=function(C){this.code=this[this.name=C]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),h=c.length,p=e.URL||e.webkitURL||e,g=p.createObjectURL,b=p.revokeObjectURL,y=p,w=e.btoa,T=e.atob,N=e.ArrayBuffer,P=e.Uint8Array,j=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(u.fake=i.fake=!0;h--;)d.prototype[c[h]]=h+1;return p.createObjectURL||(y=e.URL=function(C){var A=document.createElementNS("http://www.w3.org/1999/xhtml","a"),S;return A.href=C,"origin"in A||(A.protocol.toLowerCase()==="data:"?A.origin=null:(S=C.match(j),A.origin=S&&S[1])),A}),y.createObjectURL=function(C){var A=C.type,S;if(A===null&&(A="application/octet-stream"),C instanceof u)return S="data:"+A,C.encoding==="base64"?S+";base64,"+C.data:C.encoding==="URI"?S+","+decodeURIComponent(C.data):w?S+";base64,"+w(C.data):S+","+encodeURIComponent(C.data);if(g)return g.call(p,C)},y.revokeObjectURL=function(C){C.substring(0,5)!=="data:"&&b&&b.call(p,C)},t.append=function(C){var A=this.data;if(P&&(C instanceof N||C instanceof P)){for(var S="",D=new P(C),O=0,I=D.length;O<I;O++)S+=String.fromCharCode(D[O]);A.push(S)}else if(r(C)==="Blob"||r(C)==="File")if(o){var a=new o;A.push(a.readAsBinaryString(C))}else throw new d("NOT_READABLE_ERR");else C instanceof u?C.encoding==="base64"&&T?A.push(T(C.data)):C.encoding==="URI"?A.push(decodeURIComponent(C.data)):C.encoding==="raw"&&A.push(C.data):(typeof C!="string"&&(C+=""),A.push(unescape(encodeURIComponent(C))))},t.getBlob=function(C){return arguments.length||(C=null),new u(this.data.join(""),C,"raw")},t.toString=function(){return"[object BlobBuilder]"},i.slice=function(C,A,S){var D=arguments.length;return D<3&&(S=null),new u(this.data.slice(C,D>1?A:this.data.length),S,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},l}(s);s.Blob=function(e,r){var l=r&&r.type||"",u=new E;if(e)for(var t=0,i=e.length;t<i;t++)Uint8Array&&e[t]instanceof Uint8Array?u.append(e[t].buffer):u.append(e[t]);var o=u.getBlob(l);return!o.slice&&o.webkitSlice&&(o.slice=o.webkitSlice),o};var n=Object.getPrototypeOf||function(e){return e.__proto__};s.Blob.prototype=n(new s.Blob)})(typeof self!="undefined"&&self||typeof window!="undefined"&&window||$.content||$),function(s,E){var n=typeof process!="undefined"&&process&&process.versions&&process.versions.electron;n?s.MediumEditor=E:K.exports=E}($,function(){function s(E,n){return this.init(E,n)}return s.extensions={},function(E){function n(t,i){var o,d=Array.prototype.slice.call(arguments,2);i=i||{};for(var c=0;c<d.length;c++){var h=d[c];if(h)for(o in h)h.hasOwnProperty(o)&&typeof h[o]!="undefined"&&(t||i.hasOwnProperty(o)===!1)&&(i[o]=h[o])}return i}var e=!1;try{var r=document.createElement("div"),l=document.createTextNode(" ");r.appendChild(l),e=r.contains(l)}catch{}var u={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:E.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(t){return!!(u.isMac&&t.metaKey||!u.isMac&&t.ctrlKey)},isKey:function(t,i){var o=u.getKeyCode(t);return Array.isArray(i)===!1?o===i:i.indexOf(o)!==-1},getKeyCode:function(t){var i=t.which;return i===null&&(i=t.charCode!==null?t.charCode:t.keyCode),i},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var i=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,i)},defaults:function(){var i=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,i)},createLink:function(t,i,o,d){var c=t.createElement("a");return u.moveTextRangeIntoElement(i[0],i[i.length-1],c),c.setAttribute("href",o),d&&(d==="_blank"&&c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target",d)),c},findOrCreateMatchingTextNodes:function(t,i,o){for(var d=t.createTreeWalker(i,NodeFilter.SHOW_ALL,null,!1),c=[],h=0,p=!1,g=null,b=null;(g=d.nextNode())!==null;)if(!(g.nodeType>3))if(g.nodeType===3){if(!p&&o.start<h+g.nodeValue.length&&(p=!0,b=u.splitStartNodeIfNeeded(g,o.start,h)),p&&u.splitEndNodeIfNeeded(g,b,o.end,h),p&&h===o.end)break;if(p&&h>o.end+1)throw new Error("PerformLinking overshot the target!");p&&c.push(b||g),h+=g.nodeValue.length,b!==null&&(h+=b.nodeValue.length,d.nextNode()),b=null}else g.tagName.toLowerCase()==="img"&&(!p&&o.start<=h&&(p=!0),p&&c.push(g));return c},splitStartNodeIfNeeded:function(t,i,o){return i!==o?t.splitText(i-o):null},splitEndNodeIfNeeded:function(t,i,o,d){var c,h;c=d+t.nodeValue.length+(i?i.nodeValue.length:0)-1,h=o-d-(i?t.nodeValue.length:0),c>=o&&d!==c&&h!==0&&(i||t).splitText(h)},splitByBlockElements:function(t){if(t.nodeType!==3&&t.nodeType!==1)return[];var i=[],o=s.util.blockContainerElementNames.join(",");if(t.nodeType===3||t.querySelectorAll(o).length===0)return[t];for(var d=0;d<t.childNodes.length;d++){var c=t.childNodes[d];if(c.nodeType===3)i.push(c);else if(c.nodeType===1){var h=c.querySelectorAll(o);h.length===0?i.push(c):i=i.concat(s.util.splitByBlockElements(c))}}return i},findAdjacentTextNodeWithContent:function(i,o,d){var c=!1,h,p=d.createNodeIterator(i,NodeFilter.SHOW_TEXT,null,!1);for(h=p.nextNode();h;){if(h===o)c=!0;else if(c&&h.nodeType===3&&h.nodeValue&&h.nodeValue.trim().length>0)break;h=p.nextNode()}return h},findPreviousSibling:function(t){if(!t||u.isMediumEditorElement(t))return!1;for(var i=t.previousSibling;!i&&!u.isMediumEditorElement(t.parentNode);)t=t.parentNode,i=t.previousSibling;return i},isDescendant:function(i,o,d){if(!i||!o)return!1;if(i===o)return!!d;if(i.nodeType!==1)return!1;if(e||o.nodeType!==3)return i.contains(o);for(var c=o.parentNode;c!==null;){if(c===i)return!0;c=c.parentNode}return!1},isElement:function(i){return!!(i&&i.nodeType===1)},throttle:function(t,i){var o=50,d,c,h,p=null,g=0,b=function(){g=Date.now(),p=null,h=t.apply(d,c),p||(d=c=null)};return!i&&i!==0&&(i=o),function(){var y=Date.now(),w=i-(y-g);return d=this,c=arguments,w<=0||w>i?(p&&(clearTimeout(p),p=null),g=y,h=t.apply(d,c),p||(d=c=null)):p||(p=setTimeout(b,w)),h}},traverseUp:function(t,i){if(!t)return!1;do{if(t.nodeType===1){if(i(t))return t;if(u.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,i){var o,d,c,h,p,g,b,y=!1,w=["insertHTML",!1,i];if(!s.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,w)}catch{}if(o=t.getSelection(),o.rangeCount){if(d=o.getRangeAt(0),b=d.commonAncestorContainer,u.isMediumEditorElement(b)&&!b.firstChild)d.selectNode(b.appendChild(t.createTextNode("")));else if(b.nodeType===3&&d.startOffset===0&&d.endOffset===b.nodeValue.length||b.nodeType!==3&&b.innerHTML===d.toString()){for(;!u.isMediumEditorElement(b)&&b.parentNode&&b.parentNode.childNodes.length===1&&!u.isMediumEditorElement(b.parentNode);)b=b.parentNode;d.selectNode(b)}for(d.deleteContents(),c=t.createElement("div"),c.innerHTML=i,h=t.createDocumentFragment();c.firstChild;)p=c.firstChild,g=h.appendChild(p);d.insertNode(h),g&&(d=d.cloneRange(),d.setStartAfter(g),d.collapse(!0),s.selection.selectRange(t,d)),y=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(w,y),y},execFormatBlock:function(t,i){var o=u.getTopBlockContainer(s.selection.getSelectionStart(t)),d;if(i==="blockquote"){if(o&&(d=Array.prototype.slice.call(o.childNodes),d.some(function(c){return u.isBlockContainer(c)})))return t.execCommand("outdent",!1,null);if(u.isIE)return t.execCommand("indent",!1,i)}if(o&&i===o.nodeName.toLowerCase()&&(i="p"),u.isIE&&(i="<"+i+">"),o&&o.nodeName.toLowerCase()==="blockquote"){if(u.isIE&&i==="<p>")return t.execCommand("outdent",!1,i);if((u.isFF||u.isEdge)&&i==="p")return d=Array.prototype.slice.call(o.childNodes),d.some(function(c){return!u.isBlockContainer(c)})&&t.execCommand("formatBlock",!1,i),t.execCommand("outdent",!1,i)}return t.execCommand("formatBlock",!1,i)},setTargetBlank:function(t,i){var o,d=i||!1;if(t.nodeName.toLowerCase()==="a")t.target="_blank",t.rel="noopener noreferrer";else for(t=t.getElementsByTagName("a"),o=0;o<t.length;o+=1)(d===!1||d===t[o].attributes.href.value)&&(t[o].target="_blank",t[o].rel="noopener noreferrer")},removeTargetBlank:function(t,i){var o;if(t.nodeName.toLowerCase()==="a")t.removeAttribute("target"),t.removeAttribute("rel");else for(t=t.getElementsByTagName("a"),o=0;o<t.length;o+=1)i===t[o].attributes.href.value&&(t[o].removeAttribute("target"),t[o].removeAttribute("rel"))},addClassToAnchors:function(t,i){var o=i.split(" "),d,c;if(t.nodeName.toLowerCase()==="a")for(c=0;c<o.length;c+=1)t.classList.add(o[c]);else{var h=t.getElementsByTagName("a");if(h.length===0){var p=u.getClosestTag(t,"a");t=p?[p]:[]}else t=h;for(d=0;d<t.length;d+=1)for(c=0;c<o.length;c+=1)t[d].classList.add(o[c])}},isListItem:function(t){if(!t)return!1;if(t.nodeName.toLowerCase()==="li")return!0;for(var i=t.parentNode,o=i.nodeName.toLowerCase();o==="li"||!u.isBlockContainer(i)&&o!=="div";){if(o==="li")return!0;if(i=i.parentNode,i)o=i.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(t,i){if(i.nodeName.toLowerCase()==="li"){var o=i.parentElement;o.parentElement.nodeName.toLowerCase()==="p"&&(u.unwrap(o.parentElement,t),s.selection.moveCursor(t,i.firstChild,i.firstChild.textContent.length))}},splitOffDOMTree:function(t,i,o){for(var d=i,c=null,h=!o;d!==t;){var p=d.parentNode,g=p.cloneNode(!1),b=h?d:p.firstChild,y;for(c&&(h?g.appendChild(c):y=c),c=g;b;){var w=b.nextSibling;b===d?(b.hasChildNodes()?b=b.cloneNode(!1):b.parentNode.removeChild(b),b.textContent&&c.appendChild(b),b=h?w:null):(b.parentNode.removeChild(b),(b.hasChildNodes()||b.textContent)&&c.appendChild(b),b=w)}y&&c.appendChild(y),d=p}return c},moveTextRangeIntoElement:function(t,i,o){if(!t||!i)return!1;var d=u.findCommonRoot(t,i);if(!d)return!1;if(i===t){var c=t.parentNode,h=t.nextSibling;return c.removeChild(t),o.appendChild(t),h?c.insertBefore(o,h):c.appendChild(o),o.hasChildNodes()}for(var p=[],g,b,y,w=0;w<d.childNodes.length;w++)if(y=d.childNodes[w],!g)u.isDescendant(y,t,!0)&&(g=y);else if(u.isDescendant(y,i,!0)){b=y;break}else p.push(y);var T=b.nextSibling,N=d.ownerDocument.createDocumentFragment();return g===t?(g.parentNode.removeChild(g),N.appendChild(g)):N.appendChild(u.splitOffDOMTree(g,t)),p.forEach(function(P){P.parentNode.removeChild(P),N.appendChild(P)}),b===i?(b.parentNode.removeChild(b),N.appendChild(b)):N.appendChild(u.splitOffDOMTree(b,i,!0)),o.appendChild(N),b.parentNode===d?d.insertBefore(o,b):T?d.insertBefore(o,T):d.appendChild(o),o.hasChildNodes()},depthOfNode:function(t){for(var i=0,o=t;o.parentNode!==null;)o=o.parentNode,i++;return i},findCommonRoot:function(t,i){for(var o=u.depthOfNode(t),d=u.depthOfNode(i),c=t,h=i;o!==d;)o>d?(c=c.parentNode,o-=1):(h=h.parentNode,d-=1);for(;c!==h;)c=c.parentNode,h=h.parentNode;return c},isElementAtBeginningOfBlock:function(t){for(var i,o;!u.isBlockContainer(t)&&!u.isMediumEditorElement(t);){for(o=t;o=o.previousSibling;)if(i=o.nodeType===3?o.nodeValue:o.textContent,i.length>0)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return u.traverseUp(t,function(i){return u.isMediumEditorElement(i)})},isBlockContainer:function(t){return t&&t.nodeType!==3&&u.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(t){return u.traverseUp(t,function(i){return u.isBlockContainer(i)||u.isMediumEditorElement(i)})},getTopBlockContainer:function(t){var i=u.isBlockContainer(t)?t:!1;return u.traverseUp(t,function(o){return u.isBlockContainer(o)&&(i=o),!i&&u.isMediumEditorElement(o)?(i=o,!0):!1}),i},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if(t=u.traverseUp(t,function(o){return u.emptyElementNames.indexOf(o.nodeName.toLowerCase())===-1}),t.nodeName.toLowerCase()==="table"){var i=t.querySelector("th, td");i&&(t=i)}return t},getFirstTextNode:function(t){return u.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),u._getFirstTextNode(t)},_getFirstTextNode:function(t){if(t.nodeType===3)return t;for(var i=0;i<t.childNodes.length;i++){var o=u._getFirstTextNode(t.childNodes[i]);if(o!==null)return o}return null},ensureUrlHasProtocol:function(t){return t.indexOf("://")===-1?"http://"+t:t},warn:function(){E.console!==void 0&&typeof E.console.warn=="function"&&E.console.warn.apply(E.console,arguments)},deprecated:function(t,i,o){var d=t+" is deprecated, please use "+i+" instead.";o&&(d+=" Will be removed in "+o),u.warn(d)},deprecatedMethod:function(t,i,o,d){u.deprecated(t,i,d),typeof this[i]=="function"&&this[i].apply(this,o)},cleanupAttrs:function(t,i){i.forEach(function(o){t.removeAttribute(o)})},cleanupTags:function(t,i){i.indexOf(t.nodeName.toLowerCase())!==-1&&t.parentNode.removeChild(t)},unwrapTags:function(t,i){i.indexOf(t.nodeName.toLowerCase())!==-1&&s.util.unwrap(t,document)},getClosestTag:function(t,i){return u.traverseUp(t,function(o){return o.nodeName.toLowerCase()===i.toLowerCase()})},unwrap:function(t,i){for(var o=i.createDocumentFragment(),d=Array.prototype.slice.call(t.childNodes),c=0;c<d.length;c++)o.appendChild(d[c]);o.childNodes.length?t.parentNode.replaceChild(o,t):t.parentNode.removeChild(t)},guid:function(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}};s.util=u}(window),function(){var E=function(n){s.util.extend(this,n)};E.extend=function(n){var e=this,r;n&&n.hasOwnProperty("constructor")?r=n.constructor:r=function(){return e.apply(this,arguments)},s.util.extend(r,e);var l=function(){this.constructor=r};return l.prototype=e.prototype,r.prototype=new l,n&&s.util.extend(r.prototype,n),r},E.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(n){return this.base.options[n]}},["execAction","on","off","subscribe","trigger"].forEach(function(n){E.prototype[n]=function(){return this.base[n].apply(this.base,arguments)}}),s.Extension=E}(),function(){function E(e){return s.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(e,r){var l=r.getSelection(),u,t;return l.rangeCount===0?!1:(u=l.getRangeAt(0),t=u.commonAncestorContainer,s.util.traverseUp(t,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(r){return s.util.isMediumEditorElement(r)},e)},exportSelection:function(e,r){if(!e)return null;var l=null,u=r.getSelection();if(u.rangeCount>0){var t=u.getRangeAt(0),i=t.cloneRange(),o;i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),o=i.toString().length,l={start:o,end:o+t.toString().length},this.doesRangeStartWithImages(t,r)&&(l.startsWithImage=!0);var d=this.getTrailingImageCount(e,l,t.endContainer,t.endOffset);if(d&&(l.trailingImageCount=d),o!==0){var c=this.getIndexRelativeToAdjacentEmptyBlocks(r,e,t.startContainer,t.startOffset);c!==-1&&(l.emptyBlocksIndex=c)}}return l},importSelection:function(e,r,l,u){if(!(!e||!r)){var t=l.createRange();t.setStart(r,0),t.collapse(!0);var i=r,o=[],d=0,c=!1,h=!1,p=0,g=!1,b,y=!1,w=null;for((u||e.startsWithImage||typeof e.emptyBlocksIndex!="undefined")&&(y=!0);!g&&i;){if(i.nodeType>3){i=o.pop();continue}if(i.nodeType===3&&!h)b=d+i.length,!c&&e.start>=d&&e.start<=b&&(y||e.start<b?(t.setStart(i,e.start-d),c=!0):w=i),c&&e.end>=d&&e.end<=b&&(e.trailingImageCount?h=!0:(t.setEnd(i,e.end-d),g=!0)),d=b;else{if(e.trailingImageCount&&h&&(i.nodeName.toLowerCase()==="img"&&p++,p===e.trailingImageCount)){for(var T=0;i.parentNode.childNodes[T]!==i;)T++;t.setEnd(i.parentNode,T+1),g=!0}if(!g&&i.nodeType===1)for(var N=i.childNodes.length-1;N>=0;)o.push(i.childNodes[N]),N-=1}g||(i=o.pop())}!c&&w&&(t.setStart(w,w.length),t.setEnd(w,w.length)),typeof e.emptyBlocksIndex!="undefined"&&(t=this.importSelectionMoveCursorPastBlocks(l,r,e.emptyBlocksIndex,t)),u&&(t=this.importSelectionMoveCursorPastAnchor(e,t)),this.selectRange(l,t)}},importSelectionMoveCursorPastAnchor:function(e,r){var l=function(d){return d.nodeName.toLowerCase()==="a"};if(e.start===e.end&&r.startContainer.nodeType===3&&r.startOffset===r.startContainer.nodeValue.length&&s.util.traverseUp(r.startContainer,l)){for(var u=r.startContainer,t=r.startContainer.parentNode;t!==null&&t.nodeName.toLowerCase()!=="a";)t.childNodes[t.childNodes.length-1]!==u?t=null:(u=t,t=t.parentNode);if(t!==null&&t.nodeName.toLowerCase()==="a"){for(var i=null,o=0;i===null&&o<t.parentNode.childNodes.length;o++)t.parentNode.childNodes[o]===t&&(i=o);r.setStart(t.parentNode,i+1),r.collapse(!0)}}return r},importSelectionMoveCursorPastBlocks:function(e,r,l,u){var t=e.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,E,!1),i=u.startContainer,o,d,c=0;for(l=l||1,i.nodeType===3&&s.util.isBlockContainer(i.previousSibling)?o=i.previousSibling:o=s.util.getClosestBlockContainer(i);t.nextNode();)if(!d)o===t.currentNode&&(d=t.currentNode);else if(d=t.currentNode,c++,c===l||d.textContent.length>0)break;return d||(d=o),u.setStart(s.util.getFirstSelectableLeafNode(d),0),u},getIndexRelativeToAdjacentEmptyBlocks:function(e,r,l,u){if(l.textContent.length>0&&u>0)return-1;var t=l;if(t.nodeType!==3&&(t=l.childNodes[u]),t){if(!s.util.isElementAtBeginningOfBlock(t))return-1;var i=s.util.findPreviousSibling(t);if(i){if(i.nodeValue)return-1}else return-1}for(var o=s.util.getClosestBlockContainer(l),d=e.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,E,!1),c=0;d.nextNode();){var h=d.currentNode.textContent==="";if((h||c>0)&&(c+=1),d.currentNode===o)return c;h||(c=0)}return c},doesRangeStartWithImages:function(e,r){if(e.startOffset!==0||e.startContainer.nodeType!==1)return!1;if(e.startContainer.nodeName.toLowerCase()==="img")return!0;var l=e.startContainer.querySelector("img");if(!l)return!1;for(var u=r.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);u.nextNode();){var t=u.currentNode;if(t===l)break;if(t.nodeValue)return!1}return!0},getTrailingImageCount:function(e,r,l,u){if(u===0||l.nodeType!==1||l.nodeName.toLowerCase()!=="img"&&!l.querySelector("img"))return 0;for(var t=l.childNodes[u-1];t.hasChildNodes();)t=t.lastChild;for(var i=e,o=[],d=0,c=!1,h=!1,p=!1,g,b=0;!p&&i;){if(i.nodeType>3){i=o.pop();continue}if(i.nodeType===3&&!h)b=0,g=d+i.length,!c&&r.start>=d&&r.start<=g&&(c=!0),c&&r.end>=d&&r.end<=g&&(h=!0),d=g;else if(i.nodeName.toLowerCase()==="img"&&b++,i===t)p=!0;else if(i.nodeType===1)for(var y=i.childNodes.length-1;y>=0;)o.push(i.childNodes[y]),y-=1;p||(i=o.pop())}return b},selectionContainsContent:function(e){var r=e.getSelection();if(!r||r.isCollapsed||!r.rangeCount)return!1;if(r.toString().trim()!=="")return!0;var l=this.getSelectedParentElement(r.getRangeAt(0));return!!(l&&(l.nodeName.toLowerCase()==="img"||l.nodeType===1&&l.querySelector("img")))},selectionInContentEditableFalse:function(e){var r,l=this.findMatchingSelectionParent(function(u){var t=u&&u.getAttribute("contenteditable");return t==="true"&&(r=!0),u.nodeName!=="#text"&&t==="false"},e);return!r&&l},getSelectionHtml:function(r){var l,u="",t=r.getSelection(),i,o;if(t.rangeCount){for(o=r.createElement("div"),l=0,i=t.rangeCount;l<i;l+=1)o.appendChild(t.getRangeAt(l).cloneContents());u=o.innerHTML}return u},getCaretOffsets:function(r,l){var u,t;return l||(l=window.getSelection().getRangeAt(0)),u=l.cloneRange(),t=l.cloneRange(),u.selectNodeContents(r),u.setEnd(l.endContainer,l.endOffset),t.selectNodeContents(r),t.setStart(l.endContainer,l.endOffset),{left:u.toString().length,right:t.toString().length}},rangeSelectsSingleNode:function(e){var r=e.startContainer;return r===e.endContainer&&r.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&e.startContainer.childNodes[e.startOffset].nodeType!==3?e.startContainer.childNodes[e.startOffset]:e.startContainer.nodeType===3?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var r=e.getSelection(),l,u,t;if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(l=r.getRangeAt(0),l.commonAncestorContainer.nodeType===3){for(u=[],t=l.commonAncestorContainer;t.parentNode&&t.parentNode.childNodes.length===1;)u.push(t.parentNode),t=t.parentNode;return u}return[].filter.call(l.commonAncestorContainer.getElementsByTagName("*"),function(i){return typeof r.containsNode=="function"?r.containsNode(i,!0):!0})},selectNode:function(e,r){var l=r.createRange();l.selectNodeContents(e),this.selectRange(r,l)},select:function(e,r,l,u,t){var i=e.createRange();return i.setStart(r,l),u?i.setEnd(u,t):i.collapse(!0),this.selectRange(e,i),i},clearSelection:function(e,r){r?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,r,l){this.select(e,r,l)},getSelectionRange:function(e){var r=e.getSelection();return r.rangeCount===0?null:r.getRangeAt(0)},selectRange:function(e,r){var l=e.getSelection();l.removeAllRanges(),l.addRange(r)},getSelectionStart:function(e){var r=e.getSelection().anchorNode,l=r&&r.nodeType===3?r.parentNode:r;return l}};s.selection=n}(),function(){function E(e,r){return e?e.some(function(l){if(typeof l.getInteractionElements!="function")return!1;var u=l.getInteractionElements();return u?(Array.isArray(u)||(u=[u]),u.some(function(t){return s.util.isDescendant(t,r,!0)})):!1}):!1}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!s.util.isIE&&!s.util.isEdge,attachDOMEvent:function(e,r,l,u){var t=this.base.options.contentWindow,i=this.base.options.ownerDocument;e=s.util.isElement(e)||[t,i].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(o){o.addEventListener(r,l,u),this.events.push([o,r,l,u])}.bind(this))},detachDOMEvent:function(e,r,l,u){var t,i,o=this.base.options.contentWindow,d=this.base.options.ownerDocument;e&&(e=s.util.isElement(e)||[o,d].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(c){t=this.indexOfListener(c,r,l,u),t!==-1&&(i=this.events.splice(t,1)[0],i[0].removeEventListener(i[1],i[2],i[3]))}.bind(this)))},indexOfListener:function(e,r,l,u){var t,i,o;for(t=0,i=this.events.length;t<i;t=t+1)if(o=this.events[t],o[0]===e&&o[1]===r&&o[2]===l&&o[3]===u)return t;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var r=this.events.filter(function(i){return i&&i[0].getAttribute&&i[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),l=0,u=r.length;l<u;l++){var t=r[l];this.detachDOMEvent(t[0],t[1],t[2],t[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(r){this.attachDOMEvent(e,r.name,r.handler.bind(this))},this)},enableCustomEvent:function(e){this.disabledEvents[e]!==void 0&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,r){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(r)},detachCustomEvent:function(e,r){var l=this.indexOfCustomListener(e,r);l!==-1&&this.customEvents[e].splice(l,1)},indexOfCustomListener:function(e,r){return!this.customEvents[e]||!this.customEvents[e].length?-1:this.customEvents[e].indexOf(r)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,r,l){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(u){u(r,l)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(!(!this.execCommandListener||!e.execCommand.listeners)){var r=e.execCommand.listeners.indexOf(this.execCommandListener);r!==-1&&e.execCommand.listeners.splice(r,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var r=function(u,t){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(i){i({command:u[0],value:u[2],args:u,result:t})})},l=function(){var u=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return u;var t=Array.prototype.slice.call(arguments);return r(t,u),u};l.orig=e.execCommand,l.listeners=[],l.callListeners=r,e.execCommand=l}},unwrapExecCommand:function(){var e=this.options.ownerDocument;!e.execCommand.orig||(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(r){this.contentCache[r.getAttribute("medium-editor-index")]=r.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[e]=!0}},attachToEachElement:function(e,r){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(l){this.attachDOMEvent(l,e,r.bind(this))},this),this.eventsCache.push({name:e,handler:r})},cleanupElement:function(e){var r=e.getAttribute("medium-editor-index");r&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[r])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(e,r){var l=this.base.getFocusedElement(),u;l&&r.type==="click"&&this.lastMousedownTarget&&(s.util.isDescendant(l,this.lastMousedownTarget,!0)||E(this.base.extensions,this.lastMousedownTarget))&&(u=l),u||this.base.elements.some(function(i){return!u&&s.util.isDescendant(i,e,!0)&&(u=i),!!u},this);var t=!s.util.isDescendant(l,e,!0)&&!E(this.base.extensions,e);u!==l&&(l&&t&&(l.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",r,l)),u&&(u.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",r,u))),t&&this.triggerCustomEvent("externalInteraction",r)},updateInput:function(e,r){if(!!this.contentCache){var l=e.getAttribute("medium-editor-index"),u=e.innerHTML;u!==this.contentCache[l]&&this.triggerCustomEvent("editableInput",r,e),this.contentCache[l]=u}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var r=e.currentTarget.activeElement,l;this.base.elements.some(function(u){return s.util.isDescendant(u,r,!0)?(l=u,!0):!1},this),l&&this.updateInput(l,{target:r,currentTarget:l})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var r={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(r.currentTarget,r)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(e){if(this.triggerCustomEvent("editableKeydown",e,e.currentTarget),s.util.isKey(e,s.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget);if(s.util.isKey(e,s.util.keyCode.ENTER)||e.ctrlKey&&s.util.isKey(e,s.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget);if(s.util.isKey(e,s.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget);if(s.util.isKey(e,[s.util.keyCode.DELETE,s.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget)}},s.Events=n}(),function(){var E=s.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(n){E.isBuiltInButton(n)?s.Extension.call(this,this.defaults[n]):s.Extension.call(this,n)},init:function(){s.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var n=this.document.createElement("button"),e=this.contentDefault,r=this.getAria(),l=this.getEditorOption("buttonLabels");return n.classList.add("medium-editor-action"),n.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(u){n.classList.add(u)}),n.setAttribute("data-action",this.getAction()),r&&(n.setAttribute("title",r),n.setAttribute("aria-label",r)),this.attrs&&Object.keys(this.attrs).forEach(function(u){n.setAttribute(u,this.attrs[u])},this),l==="fontawesome"&&this.contentFA&&(e=this.contentFA),n.innerHTML=e,n},handleClick:function(n){n.preventDefault(),n.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var n=null;return this.useQueryState&&(n=this.base.queryCommandState(this.getAction())),n},isAlreadyApplied:function(n){var e=!1,r=this.getTagNames(),l,u;return this.knownState===!1||this.knownState===!0?this.knownState:(r&&r.length>0&&(e=r.indexOf(n.nodeName.toLowerCase())!==-1),!e&&this.style&&(l=this.style.value.split("|"),u=this.window.getComputedStyle(n,null).getPropertyValue(this.style.prop),l.forEach(function(t){this.knownState||(e=u.indexOf(t)!==-1,(e||this.style.prop!=="text-decoration")&&(this.knownState=e))},this)),e)}});E.isBuiltInButton=function(n){return typeof n=="string"&&s.extensions.button.prototype.defaults.hasOwnProperty(n)},s.extensions.button=E}(),function(){s.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var E=s.extensions.button.extend({init:function(){s.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var n=this.base.getExtensionByName("toolbar");n&&n.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var n=this.base.getExtensionByName("toolbar");n&&n.hideToolbarDefaultActions()},setToolbarPosition:function(){var n=this.base.getExtensionByName("toolbar");n&&n.setToolbarPosition()}});s.extensions.form=E}(),function(){var E=s.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){s.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(n){n.preventDefault(),n.stopPropagation();var e=s.selection.getSelectionRange(this.document);return e.startContainer.nodeName.toLowerCase()==="a"||e.endContainer.nodeName.toLowerCase()==="a"||s.util.getClosestTag(s.selection.getSelectedParentElement(e),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(n){s.util.isKey(n,s.util.keyCode.K)&&s.util.isMetaCtrlKey(n)&&!n.shiftKey&&this.handleClick(n)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var n=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return n.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),n.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&n.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&n.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),n.join("")},isDisplayed:function(){return s.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){s.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(n){var e=this.getInput(),r=this.getAnchorTargetCheckbox(),l=this.getAnchorButtonCheckbox();if(n=n||{value:""},typeof n=="string"&&(n={value:n}),this.base.saveSelection(),this.hideToolbarDefaultActions(),s.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),e.value=n.value,e.focus(),r&&(r.checked=n.target==="_blank"),l){var u=n.buttonClass?n.buttonClass.split(" "):[];l.checked=u.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var n=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),r={value:this.getInput().value.trim()};return this.linkValidation&&(r.value=this.checkLinkFormat(r.value)),r.target="_self",n&&n.checked&&(r.target="_blank"),e&&e.checked&&(r.buttonClass=this.customClassOption),r},doFormSave:function(){var n=this.getFormOpts();this.completeFormSave(n)},completeFormSave:function(n){this.base.restoreSelection(),this.execAction(this.action,n),this.base.checkSelection()},ensureEncodedUri:function(n){return n===decodeURI(n)?encodeURI(n):n},ensureEncodedUriComponent:function(n){return n===decodeURIComponent(n)?encodeURIComponent(n):n},ensureEncodedParam:function(n){var e=n.split("="),r=e[0],l=e[1];return r+(l===void 0?"":"="+this.ensureEncodedUriComponent(l))},ensureEncodedQuery:function(n){return n.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(n){var e=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,r=e.test(n),l="",u=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,t=n.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),i=t[1],o=t[2],d=t[3];if(u.test(n))return"tel:"+n;if(!r){var c=i.split("/")[0];(c.match(/.+(\.|:).+/)||c==="localhost")&&(l="http://")}return l+this.ensureEncodedUri(i)+(o===void 0?"":"?"+this.ensureEncodedQuery(o))+(d===void 0?"":"#"+d)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(n){var e=n.querySelector(".medium-editor-toolbar-close"),r=n.querySelector(".medium-editor-toolbar-save"),l=n.querySelector(".medium-editor-toolbar-input");this.on(n,"click",this.handleFormClick.bind(this)),this.on(l,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(r,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var n=this.document,e=n.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(n){if(n.keyCode===s.util.keyCode.ENTER){n.preventDefault(),this.doFormSave();return}n.keyCode===s.util.keyCode.ESCAPE&&(n.preventDefault(),this.doFormCancel())},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});s.extensions.anchor=E}(),function(){var E=s.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var n=this.document.createElement("div");return n.id="medium-editor-anchor-preview-"+this.getEditorId(),n.className="medium-editor-anchor-preview",n.innerHTML=this.getTemplate(),this.on(n,"click",this.handleClick.bind(this)),n},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(n){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||n.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=n.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=n.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=n,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(n){n=n||this.activeAnchor;var e=this.window.innerWidth,r=this.anchorPreview.offsetHeight,l=n.getBoundingClientRect(),u=this.diffLeft,t=this.diffTop,i=this.getEditorOption("elementsContainer"),o=["absolute","fixed"].indexOf(window.getComputedStyle(i).getPropertyValue("position"))>-1,d={},c,h,p,g,b;c=this.anchorPreview.offsetWidth/2;var y=this.base.getExtensionByName("toolbar");y&&(u=y.diffLeft,t=y.diffTop),h=u-c,o?(g=i.getBoundingClientRect(),["top","left"].forEach(function(w){d[w]=l[w]-g[w]}),d.width=l.width,d.height=l.height,l=d,e=g.width,b=i.scrollTop):b=this.window.pageYOffset,p=l.left+l.width/2,b+=r+l.top+l.height-t-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(b)+"px",this.anchorPreview.style.right="initial",p<c?(this.anchorPreview.style.left=h+c+"px",this.anchorPreview.style.right="initial"):e-p<c?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=h+p+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(n){var e=this.base.getExtensionByName("anchor"),r=this.activeAnchor;e&&r&&(n.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(r){var l={value:r.attributes.href.value,target:r.getAttribute("target"),buttonClass:r.getAttribute("class")};e.showForm(l),r=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(n){var e=s.util.getClosestTag(n.target,"a");if(e!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(e.outerHTML)||/href=["']#\S+["']/.test(e.outerHTML)))return!0;var r=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&r&&r.isDisplayed&&r.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==e&&this.detachPreviewHandlers(),this.anchorToPreview=e,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(n){(!n.relatedTarget||!/anchor-preview/.test(n.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var n=new Date().getTime()-this.lastOver;n>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});s.extensions.anchorPreview=E}(),function(){var E,n,e,r,l;E=[" ","	",`
`,"\r","\xA0","\u2000","\u2001","\u2002","\u2003","\u2028","\u2029"],n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",e="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+n+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?\xAB\xBB\u201C\u201D\u2018\u2019])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",r=new RegExp("^("+n+")$","i"),l=new RegExp(e,"gi");function u(i){return!s.util.getClosestTag(i,"a")}var t=s.Extension.extend({init:function(){s.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var i=0,o=0;o<this.window._mediumEditors.length;o++){var d=this.window._mediumEditors[o];d!==null&&d.getExtensionByName("autoLink")!==void 0&&i++}return i===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(i,o){this.performLinking(o)},onKeypress:function(i){this.disableEventHandling||s.util.isKey(i,[s.util.keyCode.SPACE,s.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var o=this.base.exportSelection();this.performLinking(i.target)&&this.base.importSelection(o,!0)}catch(d){window.console&&window.console.error("Failed to perform linking",d),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(i){var o=s.util.splitByBlockElements(i),d=!1;o.length===0&&(o=[i]);for(var c=0;c<o.length;c++)d=this.removeObsoleteAutoLinkSpans(o[c])||d,d=this.performLinkingWithinElement(o[c])||d;return this.base.events.updateInput(i,{target:i,currentTarget:i}),d},removeObsoleteAutoLinkSpans:function(i){if(!i||i.nodeType===3)return!1;for(var o=i.querySelectorAll('span[data-auto-link="true"]'),d=!1,c=0;c<o.length;c++){var h=o[c].textContent;if(h.indexOf("://")===-1&&(h=s.util.ensureUrlHasProtocol(h)),o[c].getAttribute("data-href")!==h&&u(o[c])){d=!0;var p=h.replace(/\s+$/,"");if(o[c].getAttribute("data-href")===p){var g=h.length-p.length,b=s.util.splitOffDOMTree(o[c],this.splitTextBeforeEnd(o[c],g));o[c].parentNode.insertBefore(b,o[c].nextSibling)}else s.util.unwrap(o[c],this.document)}}return d},splitTextBeforeEnd:function(i,o){for(var d=this.document.createTreeWalker(i,NodeFilter.SHOW_TEXT,null,!1),c=!0;c;)c=d.lastChild()!==null;for(var h,p,g;o>0&&g!==null;)h=d.currentNode,p=h.nodeValue,p.length>o?(g=h.splitText(p.length-o),o=0):(g=d.previousNode(),o-=p.length);return g},performLinkingWithinElement:function(i){for(var o=this.findLinkableText(i),d=!1,c=0;c<o.length;c++){var h=s.util.findOrCreateMatchingTextNodes(this.document,i,o[c]);this.shouldNotLink(h)||this.createAutoLink(h,o[c].href)}return d},shouldNotLink:function(i){for(var o=!1,d=0;d<i.length&&o===!1;d++)o=!!s.util.traverseUp(i[d],function(c){return c.nodeName.toLowerCase()==="a"||c.getAttribute&&c.getAttribute("data-auto-link")==="true"});return o},findLinkableText:function(i){for(var o=i.textContent,d=null,c=[];(d=l.exec(o))!==null;){var h=!0,p=d.index+d[0].length;h=(d.index===0||E.indexOf(o[d.index-1])!==-1)&&(p===o.length||E.indexOf(o[p])!==-1),h=h&&(d[0].indexOf("/")!==-1||r.test(d[0].split(".").pop().split("?").shift())),h&&c.push({href:d[0],start:d.index,end:p})}return c},createAutoLink:function(i,o){o=s.util.ensureUrlHasProtocol(o);var d=s.util.createLink(this.document,i,o,this.getEditorOption("targetBlank")?"_blank":null),c=this.document.createElement("span");for(c.setAttribute("data-auto-link","true"),c.setAttribute("data-href",o),d.insertBefore(c,d.firstChild);d.childNodes.length>1;)c.appendChild(d.childNodes[1])}});s.extensions.autoLink=t}(),function(){var E="medium-editor-dragover";function n(r){var l=s.util.getContainerEditorElement(r),u=Array.prototype.slice.call(l.parentElement.querySelectorAll("."+E));u.forEach(function(t){t.classList.remove(E)})}var e=s.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){s.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(r){r.preventDefault(),r.dataTransfer.dropEffect="copy";var l=r.target.classList?r.target:r.target.parentElement;n(l),r.type==="dragover"&&l.classList.add(E)},handleDrop:function(r){r.preventDefault(),r.stopPropagation(),this.base.selectElement(r.target);var l=this.base.exportSelection();l.start=l.end,this.base.importSelection(l),r.dataTransfer.files&&Array.prototype.slice.call(r.dataTransfer.files).forEach(function(u){this.isAllowedFile(u)&&u.type.match("image")&&this.insertImageFile(u)},this),n(r.target)},isAllowedFile:function(r){return this.allowedTypes.some(function(l){return!!r.type.match(l)})},insertImageFile:function(r){if(typeof FileReader=="function"){var l=new FileReader;l.readAsDataURL(r),l.addEventListener("load",function(u){var t=this.document.createElement("img");t.src=u.target.result,s.util.insertHTMLCommand(this.document,t.outerHTML)}.bind(this))}}});s.extensions.fileDragging=e}(),function(){var E=s.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){s.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(n){var e=n.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(n)},this)},handleKeydown:function(n){var e=s.util.getKeyCode(n);if(!!this.keys[e]){var r=s.util.isMetaCtrlKey(n),l=!!n.shiftKey,u=!!n.altKey;this.keys[e].forEach(function(t){t.meta===r&&t.shift===l&&(t.alt===u||t.alt===void 0)&&(n.preventDefault(),n.stopPropagation(),typeof t.command=="function"?t.command.apply(this):t.command!==!1&&this.execAction(t.command))},this)}}});s.extensions.keyboardCommands=E}(),function(){var E=s.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){s.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(n){if(n.preventDefault(),n.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(n){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=n||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var n=this.document,e=n.createElement("div"),r=n.createElement("select"),l=n.createElement("a"),u=n.createElement("a"),t;e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this));for(var i=0;i<this.fonts.length;i++)t=n.createElement("option"),t.innerHTML=this.fonts[i],t.value=this.fonts[i],r.appendChild(t);return r.className="medium-editor-toolbar-select",e.appendChild(r),this.on(r,"change",this.handleFontChange.bind(this)),u.setAttribute("href","#"),u.className="medium-editor-toobar-save",u.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(u),this.on(u,"click",this.handleSaveClick.bind(this),!0),l.setAttribute("href","#"),l.className="medium-editor-toobar-close",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",e.appendChild(l),this.on(l,"click",this.handleCloseClick.bind(this)),e},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){s.selection.getSelectedElements(this.document).forEach(function(n){n.nodeName.toLowerCase()==="font"&&n.hasAttribute("face")&&n.removeAttribute("face")})},handleFontChange:function(){var n=this.getSelect().value;n===""?this.clearFontName():this.execAction("fontName",{value:n})},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});s.extensions.fontName=E}(),function(){var E=s.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){s.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(n){if(n.preventDefault(),n.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(n){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=n||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var n=this.document,e=n.createElement("div"),r=n.createElement("input"),l=n.createElement("a"),u=n.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),r.setAttribute("type","range"),r.setAttribute("min","1"),r.setAttribute("max","7"),r.className="medium-editor-toolbar-input",e.appendChild(r),this.on(r,"change",this.handleSliderChange.bind(this)),u.setAttribute("href","#"),u.className="medium-editor-toobar-save",u.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(u),this.on(u,"click",this.handleSaveClick.bind(this),!0),l.setAttribute("href","#"),l.className="medium-editor-toobar-close",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",e.appendChild(l),this.on(l,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){s.selection.getSelectedElements(this.document).forEach(function(n){n.nodeName.toLowerCase()==="font"&&n.hasAttribute("size")&&n.removeAttribute("size")})},handleSliderChange:function(){var n=this.getInput().value;n==="4"?this.clearFontSize():this.execAction("fontSize",{value:n})},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});s.extensions.fontSize=E}(),function(){var E="%ME_PASTEBIN%",n=null,e=null,r=function(i){i.stopPropagation()};function l(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function u(i,o,d){var c=i.clipboardData||o.clipboardData||d.dataTransfer,h={};if(!c)return h;if(c.getData){var p=c.getData("Text");p&&p.length>0&&(h["text/plain"]=p)}if(c.types)for(var g=0;g<c.types.length;g++){var b=c.types[g];h[b]=c.getData(b)}return h}var t=s.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){s.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(i){this.on(i,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(i,o){this.on(o,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(i,o){if(!i.defaultPrevented){var d=u(i,this.window,this.document),c=d["text/html"],h=d["text/plain"];this.window.clipboardData&&i.clipboardData===void 0&&!c&&(c=h),(c||h)&&(i.preventDefault(),this.doPaste(c,h,o))}},doPaste:function(i,o,d){var c,h="",p;if(this.cleanPastedHTML&&i)return this.cleanPaste(i);if(!!o){if(this.getEditorOption("disableReturn")||d&&d.getAttribute("data-disable-return"))h=s.util.htmlEntities(o);else if(c=o.split(/[\r\n]+/g),c.length>1)for(p=0;p<c.length;p+=1)c[p]!==""&&(h+="<p>"+s.util.htmlEntities(c[p])+"</p>");else h=s.util.htmlEntities(c[0]);s.util.insertHTMLCommand(this.document,h)}},handlePasteBinPaste:function(i){if(i.defaultPrevented){this.removePasteBin();return}var o=u(i,this.window,this.document),d=o["text/html"],c=o["text/plain"],h=e;if(!this.cleanPastedHTML||d){i.preventDefault(),this.removePasteBin(),this.doPaste(d,c,h),this.trigger("editablePaste",{currentTarget:h,target:h},h);return}setTimeout(function(){this.cleanPastedHTML&&(d=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(d,c,h),this.trigger("editablePaste",{currentTarget:h,target:h},h)}.bind(this),0)},handleKeydown:function(i,o){!(s.util.isKey(i,s.util.keyCode.V)&&s.util.isMetaCtrlKey(i))||(i.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(o))},createPasteBin:function(i){var o,d=s.selection.getSelectionRange(this.document),c=this.window.pageYOffset;e=i,d&&(o=d.getClientRects(),o.length?c+=o[0].top:d.startContainer.getBoundingClientRect!==void 0?c+=d.startContainer.getBoundingClientRect().top:c+=d.getBoundingClientRect().top),n=d;var h=this.document.createElement("div");h.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),h.setAttribute("style","border: 1px red solid; position: absolute; top: "+c+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),h.setAttribute("contentEditable",!0),h.innerHTML=E,this.document.body.appendChild(h),this.on(h,"focus",r),this.on(h,"focusin",r),this.on(h,"focusout",r),h.focus(),s.selection.selectNode(h,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(h,"paste",this.boundHandlePaste)},removePasteBin:function(){n!==null&&(s.selection.selectRange(this.document,n),n=null),e!==null&&(e=null);var i=this.getPasteBin();!i||i&&(this.off(i,"focus",r),this.off(i,"focusin",r),this.off(i,"focusout",r),this.off(i,"paste",this.boundHandlePaste),i.parentElement.removeChild(i))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var i=this.getPasteBin();if(!i||i.firstChild&&i.firstChild.id==="mcepastebin")return!1;var o=i.innerHTML;return!o||o===E?!1:o},cleanPaste:function(i){var o,d,c,h,p=/<p|<br|<div/.test(i),g=[].concat(this.preCleanReplacements||[],l(),this.cleanReplacements||[]);for(o=0;o<g.length;o+=1)i=i.replace(g[o][0],g[o][1]);if(!p)return this.pasteHTML(i);for(c=this.document.createElement("div"),c.innerHTML="<p>"+i.split("<br><br>").join("</p><p>")+"</p>",d=c.querySelectorAll("a,p,div,br"),o=0;o<d.length;o+=1)switch(h=d[o],h.innerHTML=h.innerHTML.replace(/\n/gi," "),h.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(h);break;case"br":this.filterLineBreak(h);break}this.pasteHTML(c.innerHTML)},pasteHTML:function(i,o){o=s.util.defaults({},o,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var d,c,h,p,g=this.document.createDocumentFragment();for(g.appendChild(this.document.createElement("body")),p=g.querySelector("body"),p.innerHTML=i,this.cleanupSpans(p),d=p.querySelectorAll("*"),h=0;h<d.length;h+=1)c=d[h],c.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&s.util.setTargetBlank(c),s.util.cleanupAttrs(c,o.cleanAttrs),s.util.cleanupTags(c,o.cleanTags),s.util.unwrapTags(c,o.unwrapTags);s.util.insertHTMLCommand(this.document,p.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(i){return i&&(i.nodeName.toLowerCase()==="p"||i.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(i){/^\s*$/.test(i.textContent)&&i.parentNode&&i.parentNode.removeChild(i)},filterLineBreak:function(i){this.isCommonBlock(i.previousElementSibling)?this.removeWithParent(i):this.isCommonBlock(i.parentNode)&&(i.parentNode.firstChild===i||i.parentNode.lastChild===i)?this.removeWithParent(i):i.parentNode&&i.parentNode.childElementCount===1&&i.parentNode.textContent===""&&this.removeWithParent(i)},removeWithParent:function(i){i&&i.parentNode&&(i.parentNode.parentNode&&i.parentNode.childElementCount===1?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))},cleanupSpans:function(i){var o,d,c,h=i.querySelectorAll(".replace-with"),p=function(g){return g&&g.nodeName!=="#text"&&g.getAttribute("contenteditable")==="false"};for(o=0;o<h.length;o+=1)d=h[o],c=this.document.createElement(d.classList.contains("bold")?"b":"i"),d.classList.contains("bold")&&d.classList.contains("italic")?c.innerHTML="<i>"+d.innerHTML+"</i>":c.innerHTML=d.innerHTML,d.parentNode.replaceChild(c,d);for(h=i.querySelectorAll("span"),o=0;o<h.length;o+=1){if(d=h[o],s.util.traverseUp(d,p))return!1;s.util.unwrap(d,this.document)}}});s.extensions.paste=t}(),function(){var E=s.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){s.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(n,e){this.initElement(e)},initElement:function(n){n.getAttribute("data-placeholder")||n.setAttribute("data-placeholder",this.text),this.updatePlaceholder(n)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(n,e){this.cleanupElement(e)},cleanupElement:function(n){n.getAttribute("data-placeholder")===this.text&&n.removeAttribute("data-placeholder")},showPlaceholder:function(n){n&&(s.util.isFF&&n.childNodes.length===0?(n.classList.add("medium-editor-placeholder-relative"),n.classList.remove("medium-editor-placeholder")):(n.classList.add("medium-editor-placeholder"),n.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(n){n&&(n.classList.remove("medium-editor-placeholder"),n.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(n,e){if(n.querySelector("img, blockquote, ul, ol, table")||n.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(n);e||this.showPlaceholder(n)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(n,e){var r=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,r)},handleFocus:function(n,e){this.hidePlaceholder(e)},handleBlur:function(n,e){this.updatePlaceholder(e)}});s.extensions.placeholder=E}(),function(){var E=s.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){s.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(n,e){return this.base.extensions.forEach(function(r){if(r!==this)return n.apply(e||this,arguments)},this)},createToolbar:function(){var n=this.document.createElement("div");return n.id="medium-editor-toolbar-"+this.getEditorId(),n.className="medium-editor-toolbar",this.static?n.className+=" static-toolbar":this.relativeContainer?n.className+=" medium-editor-relative-toolbar":n.className+=" medium-editor-stalker-toolbar",n.appendChild(this.createToolbarButtons()),this.forEachExtension(function(e){e.hasForm&&n.appendChild(e.getForm())}),this.attachEventHandlers(),n},createToolbarButtons:function(){var n=this.document.createElement("ul"),e,r,l,u,t,i;return n.id="medium-editor-toolbar-actions"+this.getEditorId(),n.className="medium-editor-toolbar-actions",n.style.display="block",this.buttons.forEach(function(o){typeof o=="string"?(t=o,i=null):(t=o.name,i=o),u=this.base.addBuiltInExtension(t,i),u&&typeof u.getButton=="function"&&(r=u.getButton(this.base),e=this.document.createElement("li"),s.util.isElement(r)?e.appendChild(r):e.innerHTML=r,n.appendChild(e))},this),l=n.querySelectorAll("button"),l.length>0&&(l[0].classList.add(this.firstButtonClass),l[l.length-1].classList.add(this.lastButtonClass)),n},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=s.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(n){if(n&&n.target&&s.util.isDescendant(this.getToolbarElement(),n.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(n){n.hasForm&&n.isDisplayed()&&n.hideForm()})},multipleBlockElementsSelected:function(){var n=/<[^\/>][^>]*><\/[^>]+>/gim,e=new RegExp("<("+s.util.blockContainerElementNames.join("|")+")[^>]*>","g"),r=s.selection.getSelectionHtml(this.document).replace(n,""),l=r.match(e);return!!l&&l.length>1},modifySelection:function(){var n=this.window.getSelection(),e=n.getRangeAt(0);if(this.standardizeSelectionStart&&e.startContainer.nodeValue&&e.startOffset===e.startContainer.nodeValue.length){var r=s.util.findAdjacentTextNodeWithContent(s.selection.getSelectionElement(this.window),e.startContainer,this.document);if(r){for(var l=0;r.nodeValue.substr(l,1).trim().length===0;)l=l+1;e=s.selection.select(this.document,r,l,e.endContainer,e.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||s.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var n=s.selection.getSelectionElement(this.window);if(!n||this.getEditorElements().indexOf(n)===-1||n.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!s.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(n){typeof n.isActive=="function"&&typeof n.setInactive=="function"&&n.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var n=[],e=null,r=s.selection.getSelectionRange(this.document),l,u=function(t){typeof t.checkState=="function"?t.checkState(l):typeof t.isActive=="function"&&typeof t.isAlreadyApplied=="function"&&typeof t.setActive=="function"&&!t.isActive()&&t.isAlreadyApplied(l)&&t.setActive()};if(!!r&&(this.forEachExtension(function(t){if(typeof t.queryCommandState=="function"&&(e=t.queryCommandState(),e!==null)){e&&typeof t.setActive=="function"&&t.setActive();return}n.push(t)}),l=s.selection.getSelectedParentElement(r),!!this.getEditorElements().some(function(t){return s.util.isDescendant(t,l,!0)})))for(;l&&(n.forEach(u),!s.util.isMediumEditorElement(l));)l=l.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var n=this.base.getFocusedElement(),e=this.window.getSelection();if(!n)return this;(this.static||!e.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(n):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(n){this.getToolbarElement().style.left="0";var e=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,r=this.window.innerWidth,l=this.getToolbarElement(),u=n.getBoundingClientRect(),t=u.top+e,i=u.left+u.width/2,o=l.offsetHeight,d=l.offsetWidth,c=d/2,h;switch(this.sticky?e>t+n.offsetHeight-o-this.stickyTopOffset?(l.style.top=t+n.offsetHeight-o+"px",l.classList.remove("medium-editor-sticky-toolbar")):e>t-o-this.stickyTopOffset?(l.classList.add("medium-editor-sticky-toolbar"),l.style.top=this.stickyTopOffset+"px"):(l.classList.remove("medium-editor-sticky-toolbar"),l.style.top=t-o+"px"):l.style.top=t-o+"px",this.align){case"left":h=u.left;break;case"right":h=u.right-d;break;case"center":h=i-c;break}h<0?h=0:h+d>r&&(h=r-Math.ceil(d)-1),l.style.left=h+"px"},positionToolbar:function(n){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=n.getRangeAt(0),r=e.getBoundingClientRect();(!r||r.height===0&&r.width===0&&e.startContainer===e.endContainer)&&(e.startContainer.nodeType===1&&e.startContainer.querySelector("img")?r=e.startContainer.querySelector("img").getBoundingClientRect():r=e.startContainer.getBoundingClientRect());var l=this.window.innerWidth,u=this.getToolbarElement(),t=u.offsetHeight,i=u.offsetWidth,o=i/2,d=50,c=this.diffLeft-o,h=this.getEditorOption("elementsContainer"),p=["absolute","fixed"].indexOf(window.getComputedStyle(h).getPropertyValue("position"))>-1,g={},b={},y,w;p?(w=h.getBoundingClientRect(),["top","left"].forEach(function(T){b[T]=r[T]-w[T]}),b.width=r.width,b.height=r.height,r=b,l=w.width,g.top=h.scrollTop):g.top=this.window.pageYOffset,y=r.left+r.width/2,g.top+=r.top-t,r.top<d?(u.classList.add("medium-toolbar-arrow-over"),u.classList.remove("medium-toolbar-arrow-under"),g.top+=d+r.height-this.diffTop):(u.classList.add("medium-toolbar-arrow-under"),u.classList.remove("medium-toolbar-arrow-over"),g.top+=this.diffTop),y<o?(g.left=c+o,g.right="initial"):l-y<o?(g.left="auto",g.right=0):(g.left=c+y,g.right="initial"),["top","left","right"].forEach(function(T){u.style[T]=g[T]+(isNaN(g[T])?"":"px")})}});s.extensions.toolbar=E}(),function(){var E=s.Extension.extend({init:function(){s.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(n){var e="medium-editor-dragover";n.preventDefault(),n.dataTransfer.dropEffect="copy",n.type==="dragover"?n.target.classList.add(e):n.type==="dragleave"&&n.target.classList.remove(e)},handleDrop:function(n){var e="medium-editor-dragover",r;n.preventDefault(),n.stopPropagation(),n.dataTransfer.files&&(r=Array.prototype.slice.call(n.dataTransfer.files,0),r.some(function(l){if(l.type.match("image")){var u,t;u=new FileReader,u.readAsDataURL(l),t="medium-img-"+ +new Date,s.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+t+'" />'),u.onload=function(){var i=this.document.getElementById(t);i&&(i.removeAttribute("id"),i.removeAttribute("class"),i.src=u.result)}.bind(this)}}.bind(this))),n.target.classList.remove(e)}});s.extensions.imageDragging=E}(),function(){function E(a){var m=s.selection.getSelectionStart(this.options.ownerDocument),f=m.textContent,v=s.selection.getCaretOffsets(m);(f[v.left-1]===void 0||f[v.left-1].trim()===""||f[v.left]!==void 0&&f[v.left].trim()==="")&&a.preventDefault()}function n(a,m){if(this.options.disableReturn||m.getAttribute("data-disable-return"))a.preventDefault();else if(this.options.disableDoubleReturn||m.getAttribute("data-disable-double-return")){var f=s.selection.getSelectionStart(this.options.ownerDocument);(f&&f.textContent.trim()===""&&f.nodeName.toLowerCase()!=="li"||f.previousElementSibling&&f.previousElementSibling.nodeName.toLowerCase()!=="br"&&f.previousElementSibling.textContent.trim()==="")&&a.preventDefault()}}function e(a){var m=s.selection.getSelectionStart(this.options.ownerDocument),f=m&&m.nodeName.toLowerCase();f==="pre"&&(a.preventDefault(),s.util.insertHTMLCommand(this.options.ownerDocument,"    ")),s.util.isListItem(m)&&(a.preventDefault(),a.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function r(a){var m,f=s.selection.getSelectionStart(this.options.ownerDocument),v=f.nodeName.toLowerCase(),x=/^(\s+|<br\/?>)?$/i,k=/h\d/i;s.util.isKey(a,[s.util.keyCode.BACKSPACE,s.util.keyCode.ENTER])&&f.previousElementSibling&&k.test(v)&&s.selection.getCaretOffsets(f).left===0?s.util.isKey(a,s.util.keyCode.BACKSPACE)&&x.test(f.previousElementSibling.innerHTML)?(f.previousElementSibling.parentNode.removeChild(f.previousElementSibling),a.preventDefault()):!this.options.disableDoubleReturn&&s.util.isKey(a,s.util.keyCode.ENTER)&&(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.previousElementSibling.parentNode.insertBefore(m,f),a.preventDefault()):s.util.isKey(a,s.util.keyCode.DELETE)&&f.nextElementSibling&&f.previousElementSibling&&!k.test(v)&&x.test(f.innerHTML)&&k.test(f.nextElementSibling.nodeName.toLowerCase())?(s.selection.moveCursor(this.options.ownerDocument,f.nextElementSibling),f.previousElementSibling.parentNode.removeChild(f),a.preventDefault()):s.util.isKey(a,s.util.keyCode.BACKSPACE)&&v==="li"&&x.test(f.innerHTML)&&!f.previousElementSibling&&!f.parentElement.previousElementSibling&&f.nextElementSibling&&f.nextElementSibling.nodeName.toLowerCase()==="li"?(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.parentElement.parentElement.insertBefore(m,f.parentElement),s.selection.moveCursor(this.options.ownerDocument,m),f.parentElement.removeChild(f),a.preventDefault()):s.util.isKey(a,s.util.keyCode.BACKSPACE)&&s.util.getClosestTag(f,"blockquote")!==!1&&s.selection.getCaretOffsets(f).left===0?(a.preventDefault(),s.util.execFormatBlock(this.options.ownerDocument,"p")):s.util.isKey(a,s.util.keyCode.ENTER)&&s.util.getClosestTag(f,"blockquote")!==!1&&s.selection.getCaretOffsets(f).right===0?(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.parentElement.insertBefore(m,f.nextSibling),s.selection.moveCursor(this.options.ownerDocument,m),a.preventDefault()):s.util.isKey(a,s.util.keyCode.BACKSPACE)&&s.util.isMediumEditorElement(f.parentElement)&&!f.previousElementSibling&&f.nextElementSibling&&x.test(f.innerHTML)&&(a.preventDefault(),s.selection.moveCursor(this.options.ownerDocument,f.nextSibling),f.parentElement.removeChild(f))}function l(a){var m=s.selection.getSelectionStart(this.options.ownerDocument),f;!m||(s.util.isMediumEditorElement(m)&&m.children.length===0&&!s.util.isBlockContainer(m)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),s.util.isKey(a,s.util.keyCode.ENTER)&&!s.util.isListItem(m)&&!s.util.isBlockContainer(m)&&(f=m.nodeName.toLowerCase(),f==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!a.shiftKey&&!a.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function u(a,m){var f=m.parentNode.querySelector('textarea[medium-editor-textarea-id="'+m.getAttribute("medium-editor-textarea-id")+'"]');f&&(f.value=m.innerHTML.trim())}function t(a){a._mediumEditors||(a._mediumEditors=[null]),this.id||(this.id=a._mediumEditors.length),a._mediumEditors[this.id]=this}function i(a){!a._mediumEditors||!a._mediumEditors[this.id]||(a._mediumEditors[this.id]=null)}function o(a,m,f){var v=[];if(a||(a=[]),typeof a=="string"&&(a=m.querySelectorAll(a)),s.util.isElement(a)&&(a=[a]),f)for(var x=0;x<a.length;x++){var k=a[x];s.util.isElement(k)&&!k.getAttribute("data-medium-editor-element")&&!k.getAttribute("medium-editor-textarea-id")&&v.push(k)}else v=Array.prototype.slice.apply(a);return v}function d(a){var m=a.parentNode.querySelector('textarea[medium-editor-textarea-id="'+a.getAttribute("medium-editor-textarea-id")+'"]');m&&(m.classList.remove("medium-editor-hidden"),m.removeAttribute("medium-editor-textarea-id")),a.parentNode&&a.parentNode.removeChild(a)}function c(a,m){return Object.keys(m).forEach(function(f){a[f]===void 0&&(a[f]=m[f])}),a}function h(a,m,f){var v={window:f.options.contentWindow,document:f.options.ownerDocument,base:f};return a=c(a,v),typeof a.init=="function"&&a.init(),a.name||(a.name=m),a}function p(){return this.elements.every(function(a){return!!a.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function g(){return p.call(this)?this.options.anchorPreview!==!1:!1}function b(){return this.options.placeholder!==!1}function y(){return this.options.autoLink!==!1}function w(){return this.options.imageDragging!==!1}function T(){return this.options.keyboardCommands!==!1}function N(){return!this.options.extensions.imageDragging}function P(a){for(var m=this.options.ownerDocument.createElement("div"),f=Date.now(),v="medium-editor-"+f,x=a.attributes;this.options.ownerDocument.getElementById(v);)f++,v="medium-editor-"+f;m.className=a.className,m.id=v,m.innerHTML=a.value,a.setAttribute("medium-editor-textarea-id",v);for(var k=0,F=x.length;k<F;k++)m.hasAttribute(x[k].nodeName)||m.setAttribute(x[k].nodeName,x[k].value);return a.form&&this.on(a.form,"reset",function(L){L.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(v))}.bind(this)),a.classList.add("medium-editor-hidden"),a.parentNode.insertBefore(m,a),m}function j(a,m){if(!a.getAttribute("data-medium-editor-element")){a.nodeName.toLowerCase()==="textarea"&&(a=P.call(this,a),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=u.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!a.getAttribute("data-disable-editing")&&(a.setAttribute("contentEditable",!0),a.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(a.getAttribute("data-disable-return")||a.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!a.getAttribute("data-disable-return")&&this.on(a,"keyup",l.bind(this));var f=s.util.guid();a.setAttribute("data-medium-editor-element",!0),a.classList.add("medium-editor-element"),a.setAttribute("role","textbox"),a.setAttribute("aria-multiline",!0),a.setAttribute("data-medium-editor-editor-index",m),a.setAttribute("medium-editor-index",f),I[f]=a.innerHTML,this.events.attachAllEventsToElement(a)}return a}function C(){this.subscribe("editableKeydownTab",e.bind(this)),this.subscribe("editableKeydownDelete",r.bind(this)),this.subscribe("editableKeydownEnter",r.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",E.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function A(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(x){x!=="toolbar"&&this.options.extensions[x]&&this.extensions.push(h(this.options.extensions[x],x,this))},this),N.call(this)){var a=this.options.fileDragging;a||(a={},w.call(this)||(a.allowedTypes=[])),this.addBuiltInExtension("fileDragging",a)}var m={paste:!0,"anchor-preview":g.call(this),autoLink:y.call(this),keyboardCommands:T.call(this),placeholder:b.call(this)};Object.keys(m).forEach(function(x){m[x]&&this.addBuiltInExtension(x)},this);var f=this.options.extensions.toolbar;if(!f&&p.call(this)){var v=s.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});f=new s.extensions.toolbar(v)}f&&this.extensions.push(h(f,"toolbar",this))}function S(a,m){var f=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return m&&f.forEach(function(v){m.hasOwnProperty(v[0])&&m[v[0]]!==void 0&&s.util.deprecated(v[0],v[1],"v6.0.0")}),s.util.defaults({},m,a)}function D(a,m){var f=/^append-(.+)$/gi,v=/justify([A-Za-z]*)$/g,x,k;if(x=f.exec(a),x)return s.util.execFormatBlock(this.options.ownerDocument,x[1]);if(a==="fontSize")return m.size&&s.util.deprecated(".size option for fontSize command",".value","6.0.0"),k=m.value||m.size,this.options.ownerDocument.execCommand("fontSize",!1,k);if(a==="fontName")return m.name&&s.util.deprecated(".name option for fontName command",".value","6.0.0"),k=m.value||m.name,this.options.ownerDocument.execCommand("fontName",!1,k);if(a==="createLink")return this.createLink(m);if(a==="image"){var F=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,F)}if(a==="html"){var L=this.options.contentWindow.getSelection().toString().trim();return s.util.insertHTMLCommand(this.options.ownerDocument,L)}if(v.exec(a)){var H=this.options.ownerDocument.execCommand(a,!1,null),_=s.selection.getSelectedParentElement(s.selection.getSelectionRange(this.options.ownerDocument));return _&&O.call(this,s.util.getTopBlockContainer(_)),H}return k=m&&m.value,this.options.ownerDocument.execCommand(a,!1,k)}function O(a){if(!!a){var m,f=Array.prototype.slice.call(a.childNodes).filter(function(v){var x=v.nodeName.toLowerCase()==="div";return x&&!m&&(m=v.style.textAlign),x});f.length&&(this.saveSelection(),f.forEach(function(v){if(v.style.textAlign===m){var x=v.lastChild;if(x){s.util.unwrap(v,this.options.ownerDocument);var k=this.options.ownerDocument.createElement("BR");x.parentNode.insertBefore(k,x.nextSibling)}}},this),a.style.textAlign=m,this.restoreSelection())}}var I={};s.prototype={init:function(a,m){return this.options=S.call(this,this.defaults,m),this.origElements=a,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(t.call(this,this.options.contentWindow),this.events=new s.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,A.call(this),C.call(this)))},destroy:function(){!this.isActive||(this.isActive=!1,this.extensions.forEach(function(a){typeof a.destroy=="function"&&a.destroy()},this),this.events.destroy(),this.elements.forEach(function(a){this.options.spellcheck&&(a.innerHTML=a.innerHTML),a.removeAttribute("contentEditable"),a.removeAttribute("spellcheck"),a.removeAttribute("data-medium-editor-element"),a.classList.remove("medium-editor-element"),a.removeAttribute("role"),a.removeAttribute("aria-multiline"),a.removeAttribute("medium-editor-index"),a.removeAttribute("data-medium-editor-editor-index"),a.getAttribute("medium-editor-textarea-id")&&d(a)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,i.call(this,this.options.contentWindow))},on:function(a,m,f,v){return this.events.attachDOMEvent(a,m,f,v),this},off:function(a,m,f,v){return this.events.detachDOMEvent(a,m,f,v),this},subscribe:function(a,m){return this.events.attachCustomEvent(a,m),this},unsubscribe:function(a,m){return this.events.detachCustomEvent(a,m),this},trigger:function(a,m,f){return this.events.triggerCustomEvent(a,m,f),this},delay:function(a){var m=this;return setTimeout(function(){m.isActive&&a()},this.options.delay)},serialize:function(){var a,m,f={},v=this.elements.length;for(a=0;a<v;a+=1)m=this.elements[a].id!==""?this.elements[a].id:"element-"+a,f[m]={value:this.elements[a].innerHTML.trim()};return f},getExtensionByName:function(a){var m;return this.extensions&&this.extensions.length&&this.extensions.some(function(f){return f.name===a?(m=f,!0):!1}),m},addBuiltInExtension:function(a,m){var f=this.getExtensionByName(a),v;if(f)return f;switch(a){case"anchor":v=s.util.extend({},this.options.anchor,m),f=new s.extensions.anchor(v);break;case"anchor-preview":f=new s.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":f=new s.extensions.autoLink;break;case"fileDragging":f=new s.extensions.fileDragging(m);break;case"fontname":f=new s.extensions.fontName(this.options.fontName);break;case"fontsize":f=new s.extensions.fontSize(m);break;case"keyboardCommands":f=new s.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":f=new s.extensions.paste(this.options.paste);break;case"placeholder":f=new s.extensions.placeholder(this.options.placeholder);break;default:s.extensions.button.isBuiltInButton(a)&&(m?(v=s.util.defaults({},m,s.extensions.button.prototype.defaults[a]),f=new s.extensions.button(v)):f=new s.extensions.button(a))}return f&&this.extensions.push(h(f,a,this)),f},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var a=this.getExtensionByName("toolbar");return a&&a.checkState(),this},queryCommandState:function(a){var m=/^full-(.+)$/gi,f,v=null;f=m.exec(a),f&&(a=f[1]);try{v=this.options.ownerDocument.queryCommandState(a)}catch{v=null}return v},execAction:function(a,m){var f=/^full-(.+)$/gi,v,x;return v=f.exec(a),v?(this.saveSelection(),this.selectAllContents(),x=D.call(this,v[1],m),this.restoreSelection()):x=D.call(this,a,m),(a==="insertunorderedlist"||a==="insertorderedlist")&&s.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),x},getSelectedParentElement:function(a){return a===void 0&&(a=this.options.contentWindow.getSelection().getRangeAt(0)),s.selection.getSelectedParentElement(a)},selectAllContents:function(){var a=s.selection.getSelectionElement(this.options.contentWindow);if(a){for(;a.children.length===1;)a=a.children[0];this.selectElement(a)}},selectElement:function(a){s.selection.selectNode(a,this.options.ownerDocument);var m=s.selection.getSelectionElement(this.options.contentWindow);m&&this.events.focusElement(m)},getFocusedElement:function(){var a;return this.elements.some(function(m){return!a&&m.getAttribute("data-medium-focused")&&(a=m),!!a},this),a},exportSelection:function(){var a=s.selection.getSelectionElement(this.options.contentWindow),m=this.elements.indexOf(a),f=null;return m>=0&&(f=s.selection.exportSelection(a,this.options.ownerDocument)),f!==null&&m!==0&&(f.editableElementIndex=m),f},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(a,m){if(!!a){var f=this.elements[a.editableElementIndex||0];s.selection.importSelection(a,f,this.options.ownerDocument,m)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(a){var m=s.selection.getSelectionElement(this.options.contentWindow),f={},v;if(this.elements.indexOf(m)!==-1){try{if(this.events.disableCustomEvent("editableInput"),a.url&&s.util.deprecated(".url option for createLink",".value","6.0.0"),v=a.url||a.value,v&&v.trim().length>0){var x=this.options.contentWindow.getSelection();if(x){var k=x.getRangeAt(0),F=k.commonAncestorContainer,L,H,_,q;if(k.endContainer.nodeType===3&&k.startContainer.nodeType!==3&&k.startOffset===0&&k.startContainer.firstChild===k.endContainer&&(F=k.endContainer),H=s.util.getClosestBlockContainer(k.startContainer),_=s.util.getClosestBlockContainer(k.endContainer),F.nodeType!==3&&F.textContent.length!==0&&H===_){var B=H||m,M=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),L=this.exportSelection(),M.appendChild(B.cloneNode(!0)),m===B?s.selection.select(this.options.ownerDocument,B.firstChild,0,B.lastChild,B.lastChild.nodeType===3?B.lastChild.nodeValue.length:B.lastChild.childNodes.length):s.selection.select(this.options.ownerDocument,B,0,B,B.childNodes.length);var Q=this.exportSelection();q=s.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,M,{start:L.start-Q.start,end:L.end-Q.start,editableElementIndex:L.editableElementIndex}),q.length===0&&(M=this.options.ownerDocument.createDocumentFragment(),M.appendChild(F.cloneNode(!0)),q=[M.firstChild.firstChild,M.firstChild.lastChild]),s.util.createLink(this.options.ownerDocument,q,v.trim());var X=(M.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;s.util.insertHTMLCommand(this.options.ownerDocument,M.firstChild.innerHTML.replace(/^\s+/,"")),L.start-=X,L.end-=X,this.importSelection(L)}else this.options.ownerDocument.execCommand("createLink",!1,v);this.options.targetBlank||a.target==="_blank"?s.util.setTargetBlank(s.selection.getSelectionStart(this.options.ownerDocument),v):s.util.removeTargetBlank(s.selection.getSelectionStart(this.options.ownerDocument),v),a.buttonClass&&s.util.addClassToAnchors(s.selection.getSelectionStart(this.options.ownerDocument),a.buttonClass)}}if(this.options.targetBlank||a.target==="_blank"||a.buttonClass){f=this.options.ownerDocument.createEvent("HTMLEvents"),f.initEvent("input",!0,!0,this.options.contentWindow);for(var V=0,te=this.elements.length;V<te;V+=1)this.elements[V].dispatchEvent(f)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",f,m)}},cleanPaste:function(a){this.getExtensionByName("paste").cleanPaste(a)},pasteHTML:function(a,m){this.getExtensionByName("paste").pasteHTML(a,m)},setContent:function(a,m){if(m=m||0,this.elements[m]){var f=this.elements[m];f.innerHTML=a,this.checkContentChanged(f)}},getContent:function(a){return a=a||0,this.elements[a]?this.elements[a].innerHTML.trim():null},checkContentChanged:function(a){a=a||s.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(a,{target:a,currentTarget:a})},resetContent:function(a){if(a){var m=this.elements.indexOf(a);m!==-1&&this.setContent(I[a.getAttribute("medium-editor-index")],m);return}this.elements.forEach(function(f,v){this.setContent(I[f.getAttribute("medium-editor-index")],v)},this)},addElements:function(a){var m=o(a,this.options.ownerDocument,!0);if(m.length===0)return!1;m.forEach(function(f){f=j.call(this,f,this.id),this.elements.push(f),this.trigger("addElement",{target:f,currentTarget:f},f)},this)},removeElements:function(a){var m=o(a,this.options.ownerDocument),f=m.map(function(v){return v.getAttribute("medium-editor-textarea-id")&&v.parentNode?v.parentNode.querySelector('div[medium-editor-textarea-id="'+v.getAttribute("medium-editor-textarea-id")+'"]'):v});this.elements=this.elements.filter(function(v){return f.indexOf(v)!==-1?(this.events.cleanupElement(v),v.getAttribute("medium-editor-textarea-id")&&d(v),this.trigger("removeElement",{target:v,currentTarget:v},v),!1):!0},this)}},s.getEditorFromElement=function(a){var m=a.getAttribute("data-medium-editor-editor-index"),f=a&&a.ownerDocument&&(a.ownerDocument.defaultView||a.ownerDocument.parentWindow);return f&&f._mediumEditors&&f._mediumEditors[m]?f._mediumEditors[m]:null}}(),function(){s.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),s.parseVersionString=function(E){var n=E.split("-"),e=n[0].split("."),r=n.length>1?n[1]:"";return{major:parseInt(e[0],10),minor:parseInt(e[1],10),revision:parseInt(e[2],10),preRelease:r,toString:function(){return[e[0],e[1],e[2]].join(".")+(r?"-"+r:"")}}},s.version=s.parseVersionString.call(this,"5.23.3"),s}())})(ee);var de=ee.exports;const ce=Y({__name:"VaMediumEditor",props:{editorOptions:{default:()=>({buttonLabels:"fontawesome",autoLink:!0,toolbar:{buttons:["bold","italic","underline","anchor","h1","h2","h3"]}})}},emits:["initialized"],setup(K,{emit:s}){const E=K,n=ie(null);let e=null;return ne(()=>{!n.value||(e=new de(n.value,E.editorOptions),s("initialized",e))}),oe(()=>{e&&e.destroy()}),(r,l)=>(J(),Z("div",{ref_key:"editorElement",ref:n,class:"va-medium-editor content"},[re(r.$slots,"default")],512))}}),he={class:"medium-editor"},fe={class:"row"},me={class:"flex md12"},pe=R("h1",null,"Select Text To Open Editor",-1),ge=R("p",null,[z(" You enter into your favorite local bar looking "),R("span",{class:"default-selection"},[R("b",null,"good")]),z(" as hell, but you know the only heads you want to turn\u2014spicy & stylish alpha bitches \u2014 are heavily fixated on the D. The hot girl talks to you, but she only wants to be your best friend. Her nonthreatening and attentive best friend. Receiver of sexy selfies, listener of stories. Meanwhile, you attract unwanted attention from straight men, pudgy and greasy moths to your emotionally distant flame. ")],-1),be=R("p",null,[z(" Read the full article on "),R("a",{href:"https://medium.com/@dorn.anna/girl-no-you-dont-2e21e826c62c"},"Medium")],-1),Ee=Y({__name:"MediumEditor",setup(K){const{t:s}=se();function E(e){ue(()=>n(e))}function n(e){const r=document.getElementsByClassName("default-selection")[0];e.selectElement(r)}return(e,r)=>{const l=G("va-card-title"),u=G("va-card-content"),t=G("va-card");return J(),Z("div",he,[R("div",fe,[R("div",me,[W(t,null,{default:U(()=>[W(l,null,{default:U(()=>[z(ae(le(s)("forms.mediumEditor.title")),1)]),_:1}),W(u,{class:"d-flex justify-center"},{default:U(()=>[W(ce,{onInitialized:E},{default:U(()=>[pe,ge,be]),_:1})]),_:1})]),_:1})])])])}}});export{Ee as default};
